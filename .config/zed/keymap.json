[
  {
    "context": "Editor && vim_mode == insert && !menu",
    "bindings": {
      "ctrl-space": "editor::ShowCompletions",
      "j k": "vim::NormalBefore" // remap jk in insert mode to escape
    }
  },
  {
    "context": "VimControl && !menu",
    "bindings": {
      "g i": "editor::ToggleCodeActions"
    }
  },
  {
    "context": "Editor && (vim_mode == normal || vim_mode == visual) && !VimWaiting && !menu",
    "bindings": {
      // Key-bindings for normal & visual mode

      // Ctrl jklk to move between panes
      "ctrl-h": "workspace::ActivatePaneLeft",
      "ctrl-l": "workspace::ActivatePaneRight",
      "ctrl-k": "workspace::ActivatePaneUp",
      "ctrl-j": "workspace::ActivatePaneDown",

      // Git
      "space g h d": "editor::ToggleSelectedDiffHunks",
      "space g h r": "git::Restore"
    }
  },
  {
    "context": "Editor && vim_mode == normal && !VimWaiting && !menu",
    "bindings": {
      // Key-bindings to work only in normal mode
      "ctrl-;": "terminal_panel::Toggle",
      "space p m": "project_panel::ToggleFocus",
      "space p e": "diagnostics::Deploy",

      // Buffers
      "space p f": "file_finder::Toggle",
      "space p s": "pane::DeploySearch",
      "space f": "editor::Format",
      "space m": "tab_switcher::Toggle",

      // Error navigation
      "[ e": "editor::GoToDiagnostic",
      "] e": "editor::GoToPreviousDiagnostic",

      // Git
      "[ g": "editor::GoToHunk",
      "] g": "editor::GoToPreviousHunk"
    }
  },
  {
    "context": "EmptyPane || SharedScreen",
    // Empty pane, set of keybindings that are available when there is no active editor
    "bindings": {
      "space p f": "file_finder::Toggle",
      "space f p": "projects::OpenRecent"
    }
  },
  // Toggle terminal
  {
    "context": "Workspace",
    "bindings": {
      "ctrl-;": "terminal_panel::Toggle",
      "space p m": "project_panel::ToggleFocus"
    }
  },
  {
    "context": "Terminal",
    "bindings": {
      "ctrl-h": "workspace::ActivatePaneLeft",
      "ctrl-l": "workspace::ActivatePaneRight",
      "ctrl-k": "workspace::ActivatePaneUp",
      "ctrl-j": "workspace::ActivatePaneDown"
    }
  },
  // File panel (netrw)
  {
    "context": "ProjectPanel && not_editing",
    "bindings": {
      "a": "project_panel::NewFile",
      "A": "project_panel::NewDirectory",
      "r": "project_panel::Rename",
      "d": "project_panel::Delete",
      "x": "project_panel::Cut",
      "c": "project_panel::Copy",
      "p": "project_panel::Paste",
      // Close project panel as project file panel on the right
      "q": "workspace::ToggleRightDock",
      // Navigate between panel
      "ctrl-h": "workspace::ActivatePaneLeft",
      "ctrl-l": "workspace::ActivatePaneRight",
      "ctrl-k": "workspace::ActivatePaneUp",
      "ctrl-j": "workspace::ActivatePaneDown"
    }
  },
  // Panel nagivation
  {
    "context": "Dock",
    "bindings": {
      "ctrl-w h": "workspace::ActivatePaneLeft",
      "ctrl-w l": "workspace::ActivatePaneRight",
      "ctrl-w k": "workspace::ActivatePaneUp",
      "ctrl-w j": "workspace::ActivatePaneDown"
    }
  }
]

